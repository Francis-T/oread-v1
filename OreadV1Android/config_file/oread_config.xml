<?xml version="1.0"?>
<configuration id="oread-config"
               version="1.4"
               creation-date="1430780188000">
    <module-list>
        <module id="main" type="system"/>
        <module id="bluetooth" type="comm"/>
        <module id="network" type="comm"/>
        <module id="water_quality" type="sensors"/>
        <module id="hg_as_detection" type="sensors"/>
        <module id="fd_control" type="device"/>
    </module-list>
    <condition-list>
        <condition id="test_condition1" procedure="default" description="test">
            getCurrentHour() != 24;
        </condition>
    </condition-list>
    <procedure-list>
        <procedure id="default">
            <task id="comm.network.start" params=""/>
            <task id="comm.bluetooth.start" params=""/>
            <task id="comm.bluetooth.connectByName" params="HC-05"/>
            <task id="sensors.water_quality.start" params=""/>
            <task id="device.fd_control.start" params=""/>
            <task id="device.fd_control.openValve" params=""/>
            <task id="system.main.wait" params="10000"/>
            <task id="device.fd_control.closeValve" params=""/>
            <task id="device.fd_control.startSolutionDispense" params=""/>>
            <task id="device.fd_control.stopSolutionDispense" params=""/>
            <task id="device.fd_control.openValve" params=""/>
            <task id="system.main.wait" params="10000"/>
            <task id="device.fd_control.closeValve" params=""/>
            <task id="device.fd_control.startPump" params=""/>
            <task id="device.fd_control.stopPump" params=""/>
            <task id="system.main.wait" params="10000"/>
            <task id="system.main.clearData" params=""/>
            <task id="system.main.clearImage" params=""/>
            <task id="sensors.water_quality.readPH" params=""/>
            <task id="sensors.water_quality.readDO" params=""/>
            <task id="sensors.water_quality.readEC" params=""/>
            <task id="sensors.water_quality.readTM" params=""/>
            <task id="sensors.water_quality.readTU" params=""/>
            <task id="system.main.receiveData" params=""/>
            <task id="system.main.processData" params=""/>
            <task id="comm.network.uploadDataNew" params="live_data_url,sendable_data_site"/>
            <!--task id="device.fd_control.startAutosampler" params=""/-->
            <task id="sensors.hg_as_detection.read" params=""/>
            <task id="system.main.wait" params="5000"/>
            <task id="system.main.processImage" params=""/>
            <task id="system.main.wait" params="2000"/>
            <!--task id="device.fd_control.stopAutosampler" params=""/-->
            <task id="device.fd_control.openValve" params=""/>
            <task id="system.main.wait" params="10000"/>
            <task id="device.fd_control.closeValve" params=""/>
            <task id="comm.network.uploadDataNew" params="live_image_url,sendable_image_site"/>
            <task id="system.main.wait" params="30000"/>
        </procedure>
    </procedure-list>
    <data-list>
        <data id="live_data_url" type="string" value="http://miningsensors.info/api"/>
        <data id="live_image_url" type="string" value="http://miningsensors.info/photoupload"/>
       <data id="custom_sleep_interval" type="long" value="120000"/>
    </data-list>
</configuration>


